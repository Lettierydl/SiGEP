<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:pi="http://primefaces.org/ui">

<h:head>

	<title>Cloud Sistem</title>

	<link rel="stylesheet" href="../foundation/css/foundation.css" />
	<script src="../foundation/js/vendor/modernizr.js"></script>

	<link type="text/css" rel="stylesheet" href="../css/menu.css" />
	<link type="text/css" rel="stylesheet" href="../css/componentes.css" />

	<script type="text/javascript" src="../js/componentes.js" />
	<script type="text/javascript" src="../js/numeric.js" />

</h:head>

<h:body>



	<ui:include src="componentes/menu.xhtml" />
	<script>
		ativarMenuBotoes("configuracao");
	</script>

	<div class="content">

		<ul class="tabs" data-tab="tabs">
			<li class="tab-title active"><a href="#Cong1">Configuração
					de Cadastro</a></li>
			<li class="tab-title"><a href="#Cong2">Configuração do
					Sistema</a></li>
		</ul>
		<div class="tabs-content" id="tabs">
			<h:panelGrid rendered="#{not confBean.permissaoDeConfiguracao}">
				<div class="container" align="center"
					style="position: absolute; width: 100%; color: #c1c1c1;">
					<br />
					<h2>Você não tem permição para modificar configurações</h2>
					<h2>Por favor, efetue login como Gerente</h2>
				</div>
			</h:panelGrid>

			<div class="content active" id="Cong1">
				<div class="container" align="center">
					<div class="subtabela">
						<h:form prependId="false" styleClass="formulario"
							rendered="#{confBean.permissaoDeConfiguracao}">
							<table class="tabela2">
								<thead>
									<tr>
										<th class="large-1">Funcionário</th>

										<th class="large-1">Cadastrar Funcionário</th>

										<th class="large-1">Cadastrar Cliente</th>

										<th class="large-1">Cadastrar Produto</th>

										<th class="large-1">Alterar Funcionário</th>

										<th class="large-1">Alterar Cliente</th>

										<th class="large-1">Alterar Produto</th>

										<th class="large-1">Vizualizar Relatórios</th>


									</tr>
								</thead>
								<tbody>
									<tr>
										<th>Caixa</th>

										<td
											title="Permição não possivel para esse tipo de funcionário">
											<fieldset class="switch round large" tabindex="0"
												style="display: none;">
												<h:selectBooleanCheckbox id="cfc"
													title="Caixa: Cadastrar Funcionário"
													value="#{confBean.cadastroFuncCaixa}">
												</h:selectBooleanCheckbox>
												<label for="cfc"></label>

											</fieldset>
										</td>

										<td>
											<fieldset class="switch round large" tabindex="0">
												<h:selectBooleanCheckbox id="ccc"
													title="Caixa: Cadastrar Cliente"
													value="#{confBean.cadastroCliCaixa}">
												</h:selectBooleanCheckbox>
												<label for="ccc"></label>
											</fieldset>
										</td>

										<td>
											<fieldset class="switch round large" tabindex="0">
												<h:selectBooleanCheckbox id="cpc"
													title="Caixa: Cadastrar Produto"
													value="#{confBean.cadastroProdCaixa}">
												</h:selectBooleanCheckbox>
												<label for="cpc"></label>
											</fieldset>
										</td>


										<td
											title="Permição não possivel para esse tipo de funcionário">
											<fieldset class="switch round large" tabindex="0"
												style="display: none;">
												<h:selectBooleanCheckbox id="afc"
													title="Caixa: Cadastrar Funcionário" value="false">
												</h:selectBooleanCheckbox>
												<label for="afc"></label>

											</fieldset>
										</td>

										<td>
											<fieldset class="switch round large" tabindex="0">
												<h:selectBooleanCheckbox id="acc"
													title="Caixa: Alterar Cliente"
													value="#{confBean.alterarCliCaixa}">
												</h:selectBooleanCheckbox>
												<label for="acc"></label>
											</fieldset>
										</td>

										<td
											title="Permição não possivel para esse tipo de funcionário">
											<fieldset class="switch round large" tabindex="0"
												style="display: none;">
												<h:selectBooleanCheckbox id="apc"
													title="Caixa: Alterar Produto" value="false">
												</h:selectBooleanCheckbox>
												<label for="apc"></label>
											</fieldset>
										</td>

										<td>
											<fieldset class="switch round large" tabindex="0">
												<h:selectBooleanCheckbox id="grc"
													title="Caixa: Vizualizar Relatórios"
													value="#{confBean.gerarRelCaixa}">
												</h:selectBooleanCheckbox>
												<label for="grc"></label>
											</fieldset>
										</td>

									</tr>

									<tr>
										<th>Supervisor</th>

										<td>
											<fieldset class="switch round large" tabindex="0">
												<h:selectBooleanCheckbox id="cfs"
													title="Supervisor: Cadastrar Funcionário"
													value="#{confBean.cadastroFuncSupervisor}">
												</h:selectBooleanCheckbox>
												<label for="cfs"></label>

											</fieldset>
										</td>

										<td>
											<fieldset class="switch round large" tabindex="0">
												<h:selectBooleanCheckbox id="ccs"
													title="Supervisor: Cadastrar Cliente"
													value="#{confBean.cadastroCliSupervisor}">
												</h:selectBooleanCheckbox>
												<label for="ccs"></label>
											</fieldset>
										</td>

										<td>
											<fieldset class="switch round large" tabindex="0">
												<h:selectBooleanCheckbox id="cps"
													title="Supervisor: Cadastrar Produto"
													value="#{confBean.cadastroProdSupervisor}">
												</h:selectBooleanCheckbox>
												<label for="cps"></label>
											</fieldset>
										</td>


										<td>
											<fieldset class="switch round large" tabindex="0">
												<h:selectBooleanCheckbox id="afs"
													title="Supervisor: Alterar Funcionário"
													value="#{confBean.alterarFuncSupervisor}">
												</h:selectBooleanCheckbox>
												<label for="afs"></label>

											</fieldset>
										</td>

										<td>
											<fieldset class="switch round large" tabindex="0">
												<h:selectBooleanCheckbox id="acs"
													title="Supervisor: Alterar Cliente"
													value="#{confBean.alterarCliSupervisor}">
												</h:selectBooleanCheckbox>
												<label for="acs"></label>
											</fieldset>
										</td>

										<td>
											<fieldset class="switch round large" tabindex="0">
												<h:selectBooleanCheckbox id="aps"
													title="Supervisor: Alterar Produto"
													value="#{confBean.alterarProdSupervisor}">
												</h:selectBooleanCheckbox>
												<label for="aps"></label>
											</fieldset>
										</td>

										<td>
											<fieldset class="switch round large" tabindex="0">
												<h:selectBooleanCheckbox id="grs"
													title="Supervisor: Vizualizar Relatórios"
													value="#{confBean.gerarRelSupervisor}">
												</h:selectBooleanCheckbox>
												<label for="grs"></label>
											</fieldset>
										</td>




									</tr>

								</tbody>
							</table>



							<h:commandButton styleClass="bt-cadastrar" value="Salvar"
								title="Salvar alterações da configurações de cadastro" />

							<h:commandButton styleClass="bt-cadastrar" value="Restaurar"
								title="Colocar as configurações no modo padrão do sistema">
								<f:ajax execute="@form" render="@form" event="click"
									listener="#{confBean.configuracoesDefalt}" />
							</h:commandButton>

						</h:form>

					</div>
				</div>


			</div>
			<!-- fim div conf1 -->





			<!-- Tab historico -->
			<div class="content" id="Cong2">
				<pi:focus for="formSis" />

				<div class="container" align="center">
					<div class="subtabela">



						<h:form prependId="false" styleClass="formulario" id="formSis"
							rendered="#{confBean.permissaoDeConfiguracao}">
							<pi:spacer width="20px" />
							<div class="row">

								<pi:inputText class="grade left"
									value="#{confBean.nomeEstabelecimento}"
									placeholder="nome do estabelecimento"
									title="Nome do estabelecimento" />
							</div>
							<div class="row" style="margin-top: 20px;">
								<h:commandButton styleClass="bt-cadastrar left" value="Salvar"
									actionListener="#{confBean.alterarNomeDoEstabalecimento}"
									title="Salvar novo nome do estabelecimento" />
							</div>

							<div class="row" style="margin-top: 20px;"
								title="Restaurar banco de dados do Sistema">
								<pi:fileUpload styleClass="botao left" label="Restaurar Sistema"
									fileUploadListener="#{confBean.restoreBancoDeDados}"
									mode="advanced" dragDropSupport="false" update="messages"
									fileLimit="3" allowTypes="/(\.|\/)(sql)$/" auto="true"
									messageTemplate="Arquivo invalido para restaurar banco">

								</pi:fileUpload>

								<pi:growl id="messages" showDetail="true" />

							</div>


							<div class="row" style="margin-top: 20px;"
								title="Realizar backup dos dados do sistema">
								

								<pi:commandButton
									actionListener="#{confBean.realizarBackup}"
									ajax="false" value="Realizar Backup" styleClass="botao left"
									update="@all"
									onclick="PrimeFaces.monitorDownload(start, stop);"
									title="Realizar backup dos dados do sistema">
									<pi:fileDownload value="#{relatBean.filePlanilha}" />
								</pi:commandButton>

							</div>

						</h:form>

					</div>
				</div>

			</div>
			<!-- fim div historico -->


		</div>

		<div id="modalRestore" class="reveal-modal modal_pequeno"
			data-reveal="modalRestore">
			<h2>Tem certeza que deseja Restaurar o sistema?</h2>
			<br />

			<h:outputLabel
				value="Todos os dados atuais do sistema será subistituido pelos dados do Backup selecionado!" />
			<br />
			<h:form>
				<h:commandButton value="Restaurar"
					actionListener="#{confBean.restaurar}" styleClass="botao" />
				<h:commandButton value="Cancelar"
					actionListener="#{confBean.naoRestaurar}" styleClass="botao" />
			</h:form>
			<a class="close-reveal-modal">&#215;</a>
		</div>
		<!-- fim modal restore -->

	</div>

	<script src="../foundation/js/foundation.min.js"></script>
	<script type="text/javascript">
		$(document).foundation();
		jQuery(function($) {
			$("#valorPagamentoInput").numeric({
				decimal : ",",
				negative : false,
				scale : 2
			});
		});
	</script>

</h:body>


</html>