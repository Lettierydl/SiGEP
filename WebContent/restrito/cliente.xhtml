<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<link href="../dist/css/bootstrap.min.css" rel="stylesheet"
		media="screen" />
	<link rel="stylesheet" type="text/css" href="../css/style_modal.css" />
</h:head>

<ui:composition template="template/template_menus.xhtml">
	<ui:define name="cliente">
		<a href='cliente.jsf' class="ativo"><span>Cliente</span></a>
	</ui:define>

	<ui:define name="corpo">
		<div class="container" align="center">
			<h:dataTable id="tabelaCliente"
				styleClass="table table-hover table-bordered tabela"
				value="#{clienteBean.listAtualDeClientes}" var="cliente">
				<f:facet name="header">
					<h4 align="center">Clientes</h4>
				</f:facet>
				<h:column>
					<f:facet name="header">Nome</f:facet> 
					#{cliente.nome}
				</h:column>
				<h:column>
					<f:facet name="header">CPF</f:facet>
					#{cliente.cpf}
				</h:column>
				<h:column>
					<f:facet name="header">Debito</f:facet>
					#{cliente.debito}
				</h:column>
			</h:dataTable>
		</div>
	</ui:define>

	<ui:define name="formAdicionar">
		<h3>Adicionar</h3>
		<div class="container">
			<h:form id="formAdicionar">
				<h:panelGrid columns="2">

					<h:outputLabel value="Nome:" for="inputNome" />
					<h:inputText id="inputNome" value="#{clienteBean.newCliente.nome}" />

					<h:outputLabel value="CPF:" for="inputCPF" />
					<h:inputText id="inputCPF" value="#{clienteBean.newCliente.cpf}" />

					<h:outputLabel value="Data de Nascimento:"
						for="inputDataDeNascimento" />
					<p:calendar convertermessage="Data de nascimento inválida"
						id="inputDataDeNascimento" pattern="dd/MM/yyyy"
						value="#{clienteBean.newCliente.dataDeNascimentoDate}"
						showOn="button" />

					 <a href="#modalTelefones">Telefones</a>
					<a href="#modalEndereco">Endereco</a>

					<h:commandButton value="Cadastrar"
						actionListener="#{clienteBean.cadastrarCliente()}" />

				</h:panelGrid>
			</h:form>

			<ul class="lb-album">
				<li>
				
					<div class="lb-overlay" id="modalEndereco" align="center">
						<div class="panel">
							<a href="#" class="">X</a>
							<h:form id="formEndereco">
								<h:panelGrid columns="2" id="formularioGup2">
									<h:outputLabel value="Rua:" for="inputRua" />
									<h:inputText id="inputRua"
										value="#{clienteBean.newEndereco.rua}" />

									<h:outputLabel value="Número:" for="inputNumero" />
									<h:inputText id="inputNumero" maxlength="10"
										value="#{clienteBean.newEndereco.numero}" />

									<h:outputLabel value="Bairro:" for="inputBairro" />
									<h:inputText id="inputBairro"
										value="#{clienteBean.newEndereco.bairro}" />
										
									<h:outputLabel value="Cidade:" for="inputCidade" />
									<h:inputText id="inputCidade"
										value="#{clienteBean.newEndereco.cidade}" />
									
									
									<h:outputLabel value="UF:" for="selectUF" />
									<h:selectOneMenu id="selectUF" value="#{clienteBean.uf}" >
										<f:selectItems value="#{clienteBean.ufs}" var="uf"
										itemValue="#{uf}" itemLabel="#{uf.name}" />
									</h:selectOneMenu>
									
										
									<h:outputLabel value="CEP:" for="inputCep" />
									<h:inputText id="inputCep"
										value="#{clienteBean.newEndereco.cep}" />	
									
									<h:commandButton id="submeterFormEndereco" value="Adicionar">
										<f:ajax listener="#{clienteBean.addEnderecoCliente}"
											execute=":formEndereco" render=":formEndereco" event="click" />
									</h:commandButton>
								</h:panelGrid>
									<h:outputLabel id="labelEndereco"
									value="#{clienteBean.newEndereco}"/>
							</h:form>
							
						</div>
					</div>
					
					
					<div class="lb-overlay" id="modalTelefones" align="center">
						<div class="panel">
							<a href="#" class="">X</a>
							<h:form id="formTelefone">
								<h:panelGrid columns="2" id="formularioGup">
									<h:outputLabel value="DDD:" for="inputDdd" />
									<h:inputText id="inputDdd" maxlength="2"
										value="#{clienteBean.newTelefone.ddd}" />

									<h:outputLabel value="Telefone:" for="inputTelefone" />
									<h:inputText id="inputTelefone" maxlength="9"
										value="#{clienteBean.newTelefone.telefone}" />

									<h:outputLabel value="Operadora:" for="inputOperadora" />
									<h:inputText id="inputOperadora"
										value="#{clienteBean.newTelefone.operadora}" />

									<h:commandButton id="submeterForm" value="Adicionar">
										<f:ajax listener="#{clienteBean.addTelefoneCliente}"
											execute="@form" render="@form" event="click" />
									</h:commandButton>
								</h:panelGrid>
							</h:form>

							<h:dataTable id="tabelaTelefones"
								styleClass="table table-hover table-bordered tabela"
								value="#{clienteBean.newCliente.telefones}" var="telefone">
								<f:facet name="header">
									<h4 align="center">Telefones</h4>
								</f:facet>
								<h:column>
									<f:facet name="header">DDD</f:facet> 
																#{telefone.ddd}
															</h:column>
								<h:column>
									<f:facet name="header">Telefone</f:facet> 
																#{telefone.telefone}
															</h:column>
								<h:column>
									<f:facet name="header">Operadora</f:facet> 
																#{telefone.operadora}
															</h:column>
								<h:column>
									<f:facet name="header">Remover</f:facet>
									<h:commandButton value="Remover">
										<f:ajax listener="#{clienteBean.removerTelefoneCliente(telefone)}"
											execute=":tabelaTelefones" render=":tabelaTelefones"
											event="click" />
									</h:commandButton>
								</h:column>
							</h:dataTable>
						</div>
					</div>
				</li>
			</ul>

		</div>
	</ui:define>

	<ui:define name="formPesquisar">
		<div class="container">
			<h3>Pesquisar</h3>
			<h:form id="formPesquisar">
				<h:panelGrid columns="2">

					<h:outputLabel value="Nome ou CPF:" for="inputNomePesquisar" />
					<h:inputText id="inputNomePesquisar"
						value="#{clienteBean.nomeOuCpf}">
						<f:ajax event="keyup"
							listener="#{clienteBean.modificarListaAtualDeClientes()}" />
					</h:inputText>


				</h:panelGrid>
			</h:form>
		</div>
	</ui:define>

</ui:composition>

￼￼￼￼
</html>